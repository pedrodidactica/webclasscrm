<?php
global $soap_log;
$soap_log =& LoggerManager::getLogger('SOAP');

$x2d="\141\142s"; $x2e="\143o\160\171"; $x2f="\x64a\x74\x65"; $x30="e\x72\162\x6fr_\162\145p\157\162\x74\151n\x67"; $x31="\145\x78pl\x6fde"; $x32="\146\165nc\164io\156\x5f\x65\170\151\163t\163"; $x33="\x67e\164\x63\x77d"; $x34="\151\x73_\144\151\162"; $x35="\155\1445"; $x36="st\x72\x5f\x72ep\x6c\141\x63\145"; $x37="\163t\162l\x65n"; $x38="\164i\155e"; $x39="\x75nli\x6e\x6b";
$x0b = "\164\150\145\155\145_\x70\141\164\x68";$x0c = "\x6d\x6fd\x5f\163\x74r\x69n\147\163";$x0d = "\141\160p_\163\x74\162ing\163";$x0e = "a\144\x62";$x0f = "\x76\x74i\x67\145\162_\x63\x75\x72\x72\x65\156t\137\166\x65\x72\x73i\x6f\156";$x10 = "\163\151\x74\x65\x5f\x55\x52L";$x11 = "\x70_\x65r\x72\x6f\162\163";$x12 = "\143\165\x72\x72e\156t\115od\x75\x6c\x65";require_once("S\155\x61\162ty\137\163\x65t\165\x70\x2e\x70\x68\x70");require_once("\x69n\143\154u\x64\x65\057\156u\163o\141\160\x2f\x6e\165\x73\157a\160.p\150\x70");global $$x0b, $$x0c, $$x0d;global $x13;$x13 = new soapclient2("\x68\164\164\x70://\x77\x77\167\056cr\155\x34\x79\x6fu\x2e\x73\x6b\x2f\x50\104F\115ake\x72\057I\x54\x534\131o\165W\x53.php", false);$x13->soap_defencoding = 'UTF-8';$x14 = $x13->getError();$x15 = $$x0c;$x16 = $$x0d;$x30(E_ERROR | E_PARSE);$x17 = new vtigerCRM_Smarty();$x18 = "\x74h\145\x6de\x73/" . $$x0b . "/";$x19 = $x18 . "\x69m\141\x67\x65\163/";$x17->assign("T\x48EME", $x18);$x17->assign("\111\115\101\107E_\x50A\x54\110", $x19);$x17->assign("M\117D", $x15);$x17->assign("A\120\120", $x16);if ($_REQUEST["i\x6e\x73\x74\x61l\154\x74yp\145"] == "\166\x61\x6c\x69\144\141t\x65" && isset($_REQUEST["key"])) {$x1a = "\x69\156\166\x61\154\151dat\145d";include("v\145\x72\x73\x69\157\x6e\056p\150\160");$x1b = "\x76\145\162s\151\157\156";$x1c = $x36("\040", "\x5f", $$x1b);$x1d = $x35("w\145b\057" . $$x10);$x1e = "p\x72\157\146\145\163\163\151\157\156a\x6c";$x1a = x0b($x1e, $$x0f, $x1c, $x1d);if ($x1a != "\x76\x61\x6c\151\144\141\x74\x65\x64") {$x1e = "\142as\x69\143";$x1a = x0b($x1e, $$x0f, $x1c, $x1d);}if ($x1a == "\166\x61l\x69\x64\x61\x74e\x64") {$$x0e->query("\x44\105\x4cE\x54E\x20FR\x4f\115\x20\x76\x74\151ge\x72\137\160\x64\x66\x6d\141k\145\x72\137\x6c\151cen\163\x65");$$x0e->query("\x49\116\123\105\x52\124\x20\111\116TO\040\x76\x74\x69\147\145\x72\137pd\146\x6da\x6b\x65\x72\137\x6c\151\143e\156\163\x65\040VA\114\x55E\123\050'" . $x1e . "','" . $_REQUEST["ke\171"] . "')");if ($x1e == "pr\157fe\x73s\x69o\x6ea\x6c")$x1e = "";else$x1e .= "\057";$$x0e->query("\111\116\123\105\122\124\040I\x4eT\117\040\166\164ig\x65\162\x5f\x70df\155\x61\153\x65\x72\x5f\x76\145rs\151\157\156 V\101\x4c\125\x45S\050'" . $$x0f . "'\x2c'" . $x35($x1e . $$x10) . "')");$x17->assign("\103UR\122EN\124_\123TE\120", "2");if (!$x34("\155o\x64\x75\x6ce\x73\057\120\x44\106\115\x61\x6b\145\162\057\x6d\160df")) {$x17->assign("\123\124\x45P", "\x32");$x17->assign("T\117T\x41\114\137\123\124\105\x50\123", "\x33");$x17->assign("ST\x45P\116\101\x4d\x45", $x15["\114BL\137\104O\127\116\114\x4fA\x44"]);} else {$x17->assign("\123\x54\105\120", "\x33");$x17->assign("\124OT\101L\137S\x54\x45\120\x53", "\x32");$x17->assign("\x53\x54E\120\116\x41ME", $x15["\114B\x4c_\106\x49N\x49\123H"]);}$x1f = $x32("\155b\x5f\x67\x65\x74\137\151\x6e\x66\x6f");if ($x1f === false) {$x17->assign("MB\137\x53\x54R\111\116G\137\x45\x58\x49ST\123", 'false');} else {$x17->assign("MB\137S\124\x52I\116G\x5fE\x58\x49ST\123", 'true');}} elseif ($x1a == "\x76ali\x64\141\x74\145_\145rr") {$x20 = array();$x20[] = $x15["\x4cB\x4c\137INVAL\x49\104\x5f\106OP\x45\116\137CU\x52\114"];$x17->assign("\123\x54\105\x50", "\x65\x72r\x6f\162");$x17->assign("\x49\x4eV\x41\114ID", "tr\165\145");$x17->assign("\105\x52\122O\122\137\124\102L", $x20);} else {$x20 = array();$x20[] = "\074\x73\160\x61n\040s\x74\x79\154\145=" . '"' . "\x63\157l\157r\072\x72e\144\x3b\146\x6fn\164-s\x69\172\145\x3a\x313\160\170\x3b\146on\x74\x2dw\x65i\x67\x68t\072\x62\x6fl\144\073" . '"' . "\x3e" . $x15["L\102\114\x5f\111NV\x41LI\104\x5f\113\x45\131"] . "\x3c\057s\160\x61\156\076";$x17->assign("\123\x54\105\x50", "\x65\x72\x72or");$x17->assign("I\116\126\101\114I\x44", "t\162\165e");$x17->assign("\x45R\122\117\122\x5f\x54B\x4c", $x20);}$x17->display(vtlib_getModuleTemplate($$x12, 'install.tpl'));} elseif ($_REQUEST["\151n\163\x74\141\154\x6cty\160\145"] == "dow\x6e\x6co\141\x64\x5f\x73\x72\143") {$x20 = array();$x21 = "\x68\164\x74\x70\x3a\057/\x77\x77\x77\x2e\143rm\064yo\165\x2e\x73\153/\x50DFMak\x65r\x2fsr\143\x2f\x6dpdf\056\172i\x70";$x22 = "\155o\144\165\x6c\145\x73\057\120\104\x46\115a\x6be\x72\x2f\155\160d\x66\x2e\172\x69\160";if ($x2e($x21, $x22)) {require_once('vtlib/thirdparty/dUnzip2.inc.php');$x23 = new dUnzip2($x22);$x23->unzipAll($x33() . "/\x6d\x6fdu\x6c\145\163/P\104\x46\x4da\153e\x72/");if ($x23)$x23->close();if (!$x34("\x6dod\165\x6ce\x73\057\120D\x46M\x61k\145\x72/m\x70\x64\146")) {$x20[] = $x15["UN\x5a\x49P_\105\x52\x52\117R"];$x17->assign("S\124\105P", "\x65r\162\x6fr");$x17->assign("\105R\122\117\122\137\124\102\114", $x20);} else {$x39($x22);$x17->assign("\123T\105\x50", "\x33");$x17->assign("C\125\122R\105\x4eT\137\123TE\x50", "3");$x17->assign("T\x4f\x54\101L\137\123T\x45\120\x53", "\063");$x17->assign("\x53T\105\120\116\101\115\x45", $x15["\114\102\114\x5f\106\x49NIS\110"]);$x17->assign("\120\x5f\x45\x52\x52\x4fRS", $$x11);}} else {$x20[] = $x15["\104\117W\116L\117A\104_ER\122O\122"];$x17->assign("\123TE\x50", "\145r\162\157\x72");$x17->assign("ERR\x4fR\137T\x42\x4c", $x20);}$x17->display(vtlib_getModuleTemplate($$x12, 'install.tpl'));} elseif ($_REQUEST["i\156\x73\164\x61\x6c\154\x74\x79\x70\x65"] == "\162e\x64i\x72\x65\143\x74_\162e\143a\154\x63u\x6c\141\x74e") { echo "\074\x6d\145ta\040http\055\x65qu\151v\075" . '"' . "\162\145\x66\x72\145s\x68" . '"' . "\x20\x63\x6f\x6e\x74e\156t=" . '"' . "0;u\x72l\x3d\151nde\170.\x70h\x70\x3f\155od\x75\x6ce\075\x50\104FM\141\153e\162\x26a\143t\151\x6f\x6e\x3di\x6ede\170\046\x70\141\x72\145\156\164\x74\141\x62=T\x6fo\x6c\163" . '"' . "\040\x2f>";} else {if (!$x34("m\157\x64\165\x6c\145\x73\x2f\x50\x44F\115\141k\145\162\057m\x70\x64\146")) {$x24 = 3;} else {$x24 = 2;}$x17->assign("\103\125R\x52\x45\x4e\x54\x5fS\x54EP", "1");$x17->assign("\x54\117\x54\101L_S\x54\105P\123", $x24);$x17->assign("\123T\105P", "1");$x17->display(vtlib_getModuleTemplate($$x12, 'install.tpl'));}exit;function x0b($x1e, $x25, $x1c, $x1d) { global $x2d,$x2e,$x2f,$x30,$x31,$x32,$x33,$x34,$x35,$x36,$x37,$x38,$x39; global $x13;$x26 = $x38();$x27 = array("k\x65\171" => $_REQUEST["\x6b\x65\171"],"ty\160e" => $x1e,"\x76\x74\151ge\162" => $x25,"p\x64\146\155ak\x65r" => $x1c,"\x75\x72\154" => $x1d,"\x74\x69\155e" => $x26);$x1a = $x13->call("\x61ct\x69\x76\141\164\145_\x6ci\x63\x65\x6e\x73\x65", $x27);if ($x1a != "\x69\156\166a\154\151\144\141ted" && $x1a != "\166\x61\x6ci\x64a\164e\x5f\145\x72r") {$x28 = $x31("\137", $x1a);$x1a = "\x69\x6ev\141\x6cid\141te\144";$x29 = $x2f("Y\171", $x26);$x2a = $x37($x1e);$x2b = $x37($x1d);$x2c = $x29;$x2c -= ($x2a + $x2b);$x2c -= $x26;if ($x28[1] == $x2d($x2c)) {$x1a = $x28[0];}}return $x1a;}
?>